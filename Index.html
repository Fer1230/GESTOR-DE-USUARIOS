
<!DOCTYPE html>

<html lang="es"> 
    <head>
        <meta charset="UTF-8">
        <title>Gestor de Usuario</title> 
        <link rel="stylesheet" href="index.css">
    </head>

<body>
    <nav id="button-bar">
        <ul>
            <button id="button1">Listado de Usuarios</button>
            <button id="button2">Nuevo Usuario</button>
            <button id="button3">Editar Usuario</button>
        </ul>
    </nav>
    <main>
        <article> 
            <h1 id="titulo"> Aqui se debe mostrar el nombre </h1>
        </article>
        <section id="formulario">

            <form onsubmit="checkForm(event, this)">
                
                <label for="nombres">Nombre:</label>
                <input type="text" class="input-padron" name="nombres" required >

                <label for="apellidoPaterno">Apellido Paterno</label>
                <input type="text" class="input-padron" name="apellidoPaterno" required >

                <label for="apellidoMaterno">Apellido Materno</label>
                <input type="text" class="input-padron" name="apellidoMaterno" >

                <label for="fechadeNacimiento">Fecha de Nacimiento</label>
                <input type="date" class="input-padron" name="fechadeNacimiento" required >

                <label for="contraseña">Contraseña</label>
                <input type="password" class="input-padron" name="contraseña" required >

                <label for="confirmarContraseña">Confirmar Contraseña</label>
                <input type="password" class="input-padron" name="confirmarContraseña" required >

                <label for="estadoCivil">¿Estado Civil?</label>
                <select name="estadoCivil">
                    <option value="">Seleccione una Opcion</option>
                    <option value="soltero">Soltero</option>
                    <option value="casado">Casado</option>
                    <option value="divorciado">Divorciado</option>
                    <option value="viudo">Viudo</option>
                    <option value="unionLibre">Union Libre</option>
                </select>

                <fieldset class="confirma">

                    <p>Genero:</p>

                    <label for="masculino">
                    <input type="radio" id="masculino" name="genero" value="masculino">Masculino</label>

                    <label for="femenino">
                    <input type="radio" id="femenino" name="genero" value="femenino">Femenino</label>

                </fieldset>

                <input type="submit" value="Crear Usuario" class="enviar">

            </form>

        </section>
    </main>

    <script>
        const titulo=document.getElementById("titulo");
        const formulario= document.getElementById("formulario");

        const button1 = document.getElementById('button1');
        const button2 = document.getElementById('button2');
        const button3 = document.getElementById('button3');

        const fechaSeleccionada = new Date(form.fechadeNacimiento.value);
        const anioSeleccionado = fechaSeleccionada.getFullYear();

        const fechaActual = new Date();
        let anioActual = fechaActual.getFullYear();

        button1.addEventListener('click', function() {
            titulo.textContent="Listado de Usuario";
        });

        button2.addEventListener('click', function() {
            titulo.textContent="Nuevo Usuario";
        });

        button3.addEventListener('click', function() {
            titulo.textContent="Editar Usuario";
        });  
        
        function checkForm(event, form){
            event.preventDefault();

            console.log("datos de formulario", form);  // Todo el Formulario
            console.log("Nombres", form.nombres.value); // Solo el valor del input "nombres"
            console.log("Apellido Paterno", form.apellidoPaterno.value);
            console.log("Apellido Materno", form.apellidoMaterno.value);
            console.log("Fecha de Nacimiento", form.fechadeNacimiento.value);
            console.log("Estado Civil", form.estadoCivil.value);
            console.log("Genero", form.genero.value);

            if(form.nombres.value == "") {
                alert("Error: Debe escribir su Nombre!");
                form.nombres.focus();
                return false;
            }
            
            if(form.nombres.value.length < 3 ) {
                alert("Error:Nombre Invalido!");
                form.nombres.focus();
                return false;
            }

            if(form.contraseña.value.length < 8 ) {
                alert("La contraseña no es valida!");
                form.contraseña.focus();
                return false;
            }
          
            if(form.confirmarContraseña.value  !== form.contraseña.value ){
                alert("La Contraseña no coincide");
                form.confirmarContraseña.focus();
                return false;
            }

            if(form.apellidoPaterno.value.length < 3 ) {
                alert("Error:El Apellido Paterno es Invalido!");
                form.nombres.focus();
                return false;
            }

            if(form.estadoCivil.value === "viudo" ) {
                alert("No puedes ingresar por tu estado Civil");
                form.estadoCivil.focus();
                return false;
            }

            // si 2023-18 = 2005 esto es menor que año seleccionado (1992) SI entones entra
            // si 2023-18 = 2005 esto es menor que año seleccionado (2006) NO entones no entra
            if( (anioActual-18) < anioSeleccionado.getFullYear() ); {
                alert("No puedes ingresar eres menor de Edad ");
                form.fechadeNacimiento.focus();
                return false;
           
            }
        }

    </script>

</body>
</html>
